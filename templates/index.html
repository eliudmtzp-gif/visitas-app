<!DOCTYPE html>
<html>
<head>
  <title>Registro de Visitas</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <style>
    .tarjeta {
      border: 1px solid #ccc;
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 6px;
      background-color: #f9f9f9;
    }
    .campo {
      margin-bottom: 0.5rem;
    }
    .campo strong {
      display: inline-block;
      width: 140px;
    }
    textarea, input[type="date"] {
      width: 100%;
      margin-top: 0.5rem;
    }
    button {
      margin-top: 0.5rem;
    }
  </style>
</head>
<body>
  <h2>Grupo: {{ grupo }}</h2>

  {% if personas %}
    {% for persona in personas %}
      <div class="tarjeta">
        <div class="campo"><strong>Nombre:</strong> {{ persona.nombre }}</div>
        <div class="campo"><strong>Direcci√≥n:</strong> {{ persona.direccion }}</div>
        <div class="campo"><strong>Tel√©fono:</strong> {{ persona.telefono }}</div>
        <div class="campo"><strong>Variante:</strong> {{ persona.variante }}</div>
        <div class="campo"><strong>√öltima visita:</strong> {{ persona.actualmente_la_visita }}</div>
        <div class="campo"><strong>Fecha registrada:</strong> {{ persona.fecha }}</div>
        <div class="campo"><strong>Fecha entreg√≥:</strong> {{ persona.entrego }}</div>
        <div class="campo">
          <strong>Ver en Maps:</strong>
          {% if persona.ver_en_maps %}
            <a href="{{ persona.ver_en_maps }}" target="_blank">üìç Ver ubicaci√≥n</a>
          {% else %}
            No disponible
          {% endif %}
        </div>
        <form action="/actualizar" method="post">
          <input type="hidden" name="id" value="{{ persona.id }}">
          <input type="hidden" name="grupo" value="{{ grupo }}">
          <div class="campo">
            <strong>Observaciones:</strong>
            <textarea name="observacion" rows="3">{{ persona.observaciones }}</textarea>
          </div>
          <div class="campo">
            <strong>Fecha nueva:</strong>
            <input type="date" name="fecha" value="{{ persona.fecha }}">
          </div>
          <button type="submit">Actualizar</button>
        </form>
      </div>
    {% endfor %}
  {% else %}
    <p>No hay registros disponibles para mostrar.</p>
  {% endif %}
</body>
</html>